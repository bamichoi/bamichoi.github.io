---
title: JavaScript Deep Dive. 17. 생성자 함수에 의한 객체 생성
categories: [javascript]
comments: true
---

# 17. 생성자 함수에 의한 객체 생성

## Objject 생성자 함수
  
- new 연산자와 함께 Object 생성자 함수를 호출하면 객체를 생성하여 반환한다. 빈 객체를 생성한 후 프로퍼티 또는 메소드를 추가할 수 있다.
  
- 생성자 함수 constructor 는 new 연산자와 함께 호출하여 인스턴스를 생성하는 함수를 말한다.
  
 ## 생성자 함수

- 객체 리터럴에 의한 객체 생성은 직관적이고 간편하지만, 동일한 프로퍼티를 갖는 객체를 여러개 생성해야할 경우 비효율적이다.
  이 경우, 생성자 함수를 사용하여 프로퍼티 구조가 동일한 객체 여러 개를 간편하게 생성할 수 있다.
  
- this는 자기 참조 변수 self-refrencing varable 이다. this가 가리키는 값(this 바인딩)은 함수 호출 방식에 따라 동적으로 결정된다.
  일반 함수로서 호출 - 전역 객체  
  메소드로서 호출 - 메소드를 호출한 객체(마침표 앞의 객체)  
  생성자 함수로서 호출 - 생성자 함수가 생성할 인스턴스  
  
- 생성자 함수는 객체(인스턴스)를 생성하는 함수다. 자바스크립트에서는 일반 함수와 동일한 방법으로 생성자 함수를 정의하고, new 연산자와 함께 호출할 때에만 생성자 함수로 동작한다. 만약 new 연산자와 함께 호출하지 않으면 일반 함수로 동작한다.

## 생성자 함수의 인스턴스 생성 과정

1. 인스턴스 생성과 this 바인딩
  암묵적으로 빈 객체가 생성된다. 인스턴스는 this에 바인딩 된다. 이 처리는 함수 몸체의 코드가 한줄씩 실행되는 런타임 이전에 실행된다.
  
2. 인스턴스 초기화
  생성자 함수에 기술되어 있는 코드가 한 줄씩 실행되어 this에 바인딩 되어 있는 인스턴스에 프로퍼티나 메소드를 추가하고, 그 값들을 할당하여 초기화 한다.
  
3. 인스턴스 반환
  생성자 함 수 내부의 모든 처리가 끝나면 완성된 인스턴스가 암묵적으로 반환된다.
  
- 만약 this가 아닌 다른 객체를 명시적으로 반환하면 return 문에 명시한 객체가 반환된다. 하지만 원시 값을 반환한다면 원시 값 반환은 무시되고 암묵적으로 this가 반환된다.
  